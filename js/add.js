function authDataCallback(a){a?uId=a.uid:(Rollbar.info("Unauthorized user attempted to access page",{page:"add.html"}),window.location="login.html")}function selectImage(a){document.getElementById("icon1").style.border="none",document.getElementById("icon2").style.border="none",document.getElementById("icon3").style.border="none",document.getElementById("icon1").setAttribute("data-active","false"),document.getElementById("icon2").setAttribute("data-active","false"),document.getElementById("icon3").setAttribute("data-active","false");var b=document.getElementById(a);b.style.border="5px solid #42A5F5",b.setAttribute("data-active","true")}!function(a,b){if(!b.__SV){var c,d,e,f;window.mixpanel=b,b._i=[],b.init=function(a,c,d){function g(a,b){var c=b.split(".");2==c.length&&(a=a[c[0]],b=c[1]),a[b]=function(){a.push([b].concat(Array.prototype.slice.call(arguments,0)))}}var h=b;for("undefined"!=typeof d?h=b[d]=[]:d="mixpanel",h.people=h.people||[],h.toString=function(a){var b="mixpanel";return"mixpanel"!==d&&(b+="."+d),a||(b+=" (stub)"),b},h.people.toString=function(){return h.toString(1)+".people (stub)"},e="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),f=0;f<e.length;f++)g(h,e[f]);b._i.push([a,c,d])},b.__SV=1.2,c=a.createElement("script"),c.type="text/javascript",c.async=!0,c.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===a.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",d=a.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d)}}(document,window.mixpanel||[]),mixpanel.init("0d2f16c090a094f434fd3a30d5df6bb6");var oFirebaseRef=new Firebase("http://boiling-torch-2236.firebaseIO.com/web/"),uId=0;oFirebaseRef.onAuth(authDataCallback),$("input:radio").on("click",function(a){return $(this).is(".theone")?void $(this).prop("checked",!1).removeClass("theone"):($("input:radio[name='"+$(this).prop("name")+"'].theone").removeClass("theone"),void $(this).addClass("theone"))}),document.querySelector("#save_p").onclick=function(){if(!$("#title").val())return void(document.getElementById("noTitle").style.display="");if(!$("input:checkbox").is(":checked"))return void(document.getElementById("noWFreq").style.display="");if(!$("input:radio").is(":checked")){if(!$("#others").val())return void(document.getElementById("noDFreq").style.display="");if($("#others").val()<$("#others").attr("min"))return void swal("Oops!","Please enter a valid Daily Frequency","error")}$("input:radio").is(":checked")&&($("#others").val()>3?$("input:radio").prop("checked",!1):$("#others").attr("value","0")),"false"==document.getElementById("icon1").getAttribute("data-active")&&"false"==document.getElementById("icon2").getAttribute("data-active")&&"false"==document.getElementById("icon3").getAttribute("data-active")&&document.getElementById("icon4").setAttribute("data-active","true");for(var a=document.getElementsByClassName("icon"),b="",c=0;c<a.length;c++)"true"==a[c].getAttribute("data-active")&&(b=a[c].src.substring(a[c].src.indexOf("/img/"),a[c].src.length));for(var d=document.querySelector("#title").value,e=b,f="",g=0,h=0,i=0,j=0,k=document.querySelector("#description").value,l=(document.querySelector("#others").value,document.getElementsByClassName("weekly-freq")),m=document.getElementsByClassName("daily-freq"),c=0;c<l.length;c++)l[c].checked&&(f+=l[c].value+",");for(var c=0;c<m.length;c++)m[c].checked&&(g=parseInt(m[c].value));var n=oFirebaseRef.child("users/"+uId+"/habits");oNewHabitRef=n.push(),sHabitId=oNewHabitRef.key(),oNewHabitRef.set({title:d,icon:e,weekly_frequency:f,daily_frequency:g,description:k,bestRecord:h,daysInARow:i,numCompleted:j,numMissed:0});var o=oFirebaseRef.child("users/"+uId+"/notifications"),p=Date.now(),q=o.child(sHabitId);q.set({habitTitle:d,weekly_frequency:f,daily_frequency:g,last_updated:p}),mixpanel.track("Habit Added"),document.location.href="list.html"},document.querySelector("#logOut").onclick=function(){oFirebaseRef.unauth(),window.location("login.html")};